<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Scientific mouse sensitivity optimization for competitive gaming. AI-powered analysis finds your mathematically optimal DPI and sensitivity settings.">
    <title>AimHelper Pro - Precision Performance Analytics</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="landing.css">
</head>
<body>
    <!-- Skip to main content link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Page Loader -->
    <div class="page-loader" id="pageLoader" aria-label="Loading page content">
        <div class="loader-spinner" role="status" aria-label="Loading"></div>
    </div>
    
    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <div class="brand">
                <div class="logo">
                    <div class="logo-icon" aria-hidden="true">⚡</div>
                    <span>AimHelper Pro</span>
                </div>
            </div>
            <div class="nav-actions">
                <button class="nav-btn secondary" id="loginBtn" aria-label="Sign in to your account">Sign In</button>
                <button class="nav-btn primary" id="getStartedBtn" aria-label="Get started with AimHelper Pro">Get Started</button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <main id="main-content">
        <section class="hero" aria-labelledby="hero-title">
            <div class="hero-background" aria-hidden="true">
                <div class="grid-overlay"></div>
                <div class="gradient-overlay"></div>
            </div>
            <div class="container">
                <div class="hero-content">
                    <div class="hero-badge">
                        <span class="badge-text"><span aria-hidden="true">🎯</span> Scientific Sensitivity Analysis</span>
                    </div>
                    <h1 class="hero-title" id="hero-title">
                        Unlock Your <span class="gradient-text">True Aim Potential</span>
                    </h1>
                    <p class="hero-subtitle">
                        Scientific precision meets competitive gaming. Our AI-powered analysis finds your mathematically optimal mouse sensitivity settings in minutes, not months.
                    </p>
                    <div class="hero-actions">
                        <button class="cta-btn primary large" id="demoTestBtn" aria-describedby="demo-description">
                            <span>Try Demo Test - 30 Seconds</span>
                            <div class="btn-icon" aria-hidden="true">🎯</div>
                        </button>
                        <span id="demo-description" class="sr-only">Start a quick 30-second demo test to see how AimHelper Pro works</span>
                        <button class="cta-btn secondary large" id="startAnalysisBtn" aria-describedby="platform-description">
                            <span>View Full Platform</span>
                            <div class="btn-icon" aria-hidden="true">→</div>
                        </button>
                        <span id="platform-description" class="sr-only">Access the complete AimHelper Pro analysis platform</span>
                    </div>
                <div class="trust-indicators">
                    <div class="trust-item">
                        <span class="trust-icon">⚡</span>
                        <span>Instant Results</span>
                    </div>
                    <div class="trust-item">
                        <span class="trust-icon">🔬</span>
                        <span>Science-Backed</span>
                    </div>
                    <div class="trust-item">
                        <span class="trust-icon">🔬</span>
                        <span>Data-Driven</span>
                    </div>
                </div>
            </div>
            <div class="hero-visual">
                <div class="mockup-container">
                    <div class="dashboard-mockup">
                        <div class="mockup-header">
                            <div class="mockup-dots">
                                <span></span><span></span><span></span>
                            </div>
                            <div class="mockup-title">Performance Dashboard</div>
                        </div>
                        <div class="mockup-content">
                            <div class="performance-chart">
                                <div class="chart-bars">
                                    <div class="bar" style="height: 60%"></div>
                                    <div class="bar" style="height: 45%"></div>
                                    <div class="bar" style="height: 80%"></div>
                                    <div class="bar active" style="height: 95%"></div>
                                    <div class="bar" style="height: 70%"></div>
                                </div>
                                <div class="chart-label">Accuracy Improvement</div>
                            </div>
                            <div class="recommendation-preview">
                                <div class="rec-title">✨ Optimized Settings</div>
                                <div class="rec-setting">DPI: 800 → <span class="highlight">1200</span></div>
                                <div class="rec-setting">Sens: 0.8 → <span class="highlight">0.6</span></div>
                            </div>
                        </div>
                    </div>
                    <div class="floating-elements">
                        <div class="floating-card accuracy">
                            <div class="card-value">📊</div>
                            <div class="card-label">Accuracy</div>
                        </div>
                        <div class="floating-card consistency">
                            <div class="card-value">🎯</div>
                            <div class="card-label">Consistency</div>
                        </div>
                        <div class="floating-card speed">
                            <div class="card-value">⚡</div>
                            <div class="card-label">Speed</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works">
        <div class="container">
            <div class="section-header animate-on-scroll">
                <h2>Your Path to Perfect Aim</h2>
                <p>Four precise tests. One optimal result. Mathematical analysis of your aim patterns.</p>
            </div>
            <div class="process-steps">
                <div class="step animate-on-scroll delay-1">
                    <div class="step-number">01</div>
                    <div class="step-content">
                        <h3>Profile Setup</h3>
                        <p>Enter your current settings and gaming preferences for personalized analysis</p>
                        <div class="step-preview">
                            <div class="preview-item">🎮 Game Selection</div>
                            <div class="preview-item">🖱️ Current DPI</div>
                            <div class="preview-item">⚙️ Sensitivity</div>
                        </div>
                    </div>
                </div>
                <div class="step animate-on-scroll delay-2">
                    <div class="step-number">02</div>
                    <div class="step-content">
                        <h3>Performance Testing</h3>
                        <p>Complete our scientifically designed tests that measure your natural aim patterns</p>
                        <div class="step-preview">
                            <div class="preview-item">🎯 Tracking Test</div>
                            <div class="preview-item">⚡ Precision Test</div>
                            <div class="preview-item">🔥 Flick Test</div>
                            <div class="preview-item">📊 Consistency Test</div>
                        </div>
                    </div>
                </div>
                <div class="step animate-on-scroll delay-3">
                    <div class="step-number">03</div>
                    <div class="step-content">
                        <h3>AI Analysis</h3>
                        <p>Our algorithm analyzes thousands of data points to find your optimal settings</p>
                        <div class="step-preview">
                            <div class="preview-item">🧠 Pattern Recognition</div>
                            <div class="preview-item">📈 Performance Modeling</div>
                            <div class="preview-item">⚡ Real-time Processing</div>
                        </div>
                    </div>
                </div>
                <div class="step animate-on-scroll delay-1">
                    <div class="step-number">04</div>
                    <div class="step-content">
                        <h3>Proven Results</h3>
                        <p>Get your personalized recommendations with equipment suggestions and improvement proof</p>
                        <div class="step-preview">
                            <div class="preview-item">📊 Before/After Data</div>
                            <div class="preview-item">🛒 Equipment Match</div>
                            <div class="preview-item">📈 Progress Tracking</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <div class="section-header">
                <h2>Precision-Engineered for Performance</h2>
                <p>Every feature designed to give you the competitive edge you need</p>
            </div>
            <div class="features-grid">
                <div class="feature-card primary">
                    <div class="feature-icon">🎯</div>
                    <h3>Scientific Precision</h3>
                    <p>Mathematical algorithms analyze your natural movement patterns to find settings that work with your physiology, not against it.</p>
                    <div class="feature-badge">Core Technology</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">⚡</div>
                    <h3>Instant Optimization</h3>
                    <p>Get results in minutes, not months. Our tests are designed for maximum accuracy with minimal time investment.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🧠</div>
                    <h3>AI-Powered Analysis</h3>
                    <p>Advanced machine learning processes your performance data to identify micro-patterns humans miss.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📊</div>
                    <h3>Data-Driven Proof</h3>
                    <p>See exactly how your performance improves with before/after comparisons and detailed analytics.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🛠️</div>
                    <h3>Hardware Matching</h3>
                    <p>Get personalized mousepad size and equipment recommendations based on your optimal settings.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📈</div>
                    <h3>Progress Tracking</h3>
                    <p>Monitor your improvement over time with detailed performance analytics and trend analysis.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to Unlock Your True Potential?</h2>
                <p>Discover your mathematically optimal sensitivity settings with precision testing</p>
                <div class="cta-actions">
                    <button class="cta-btn primary large" id="startNowBtn">
                        <span>Start Your Analysis</span>
                        <div class="btn-icon">→</div>
                    </button>
                </div>
                <div class="cta-guarantee">
                    <span class="guarantee-icon">✓</span>
                    <span>Free analysis • Instant results • Science-backed recommendations</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="logo">
                        <div class="logo-icon">⚡</div>
                        <span>AimHelper Pro</span>
                    </div>
                    <p>Precision performance analytics for competitive gaming</p>
                </div>
                <div class="footer-links">
                    <div class="link-group">
                        <h4>Product</h4>
                        <a href="/features">Features</a>
                        <a href="/how-it-works">How It Works</a>
                    </div>
                    <div class="link-group">
                        <h4>Support</h4>
                        <a href="/help">Help Center</a>
                        <a href="/contact">Contact</a>
                        <a href="/docs">Documentation</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 AimHelper Pro. All rights reserved.</p>
                <div class="footer-meta">
                    <a href="#privacy">Privacy</a>
                    <a href="#terms">Terms</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Demo Test Modal -->
    <div id="demoTestModal" class="demo-modal hidden" role="dialog" aria-labelledby="demo-title" aria-modal="true">
        <div class="demo-modal-overlay" id="demoModalOverlay"></div>
        <div class="demo-modal-content">
            <div class="demo-header">
                <h2 id="demo-title">Demo: Grid Shot Test</h2>
                <button class="demo-close" id="demoCloseBtn" aria-label="Close demo modal">×</button>
            </div>
            <div class="demo-instructions">
                <p>Click the targets as quickly and accurately as possible!</p>
                <div class="demo-timer" id="demoTimer">Ready? <span id="countdown">3</span></div>
            </div>
            <canvas id="demoCanvas" width="600" height="400"></canvas>
            <div class="demo-results hidden" id="demoResults">
                <h3>Quick Results</h3>
                <div class="demo-stats">
                    <div class="stat">
                        <span class="stat-value" id="demoAccuracy">0%</span>
                        <span class="stat-label">Accuracy</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value" id="demoReaction">0ms</span>
                        <span class="stat-label">Avg Reaction</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value" id="demoHits">0</span>
                        <span class="stat-label">Targets Hit</span>
                    </div>
                </div>
                <div class="demo-cta">
                    <p>Want to unlock your full potential with AI analysis?</p>
                    <div class="demo-actions">
                        <button class="btn btn--primary btn--lg" id="signUpFromDemo">
                            Sign Up for Full Analysis
                        </button>
                        <button class="btn btn--secondary" id="tryAgainBtn">
                            Try Again
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
        .demo-modal {
            position: fixed;
            inset: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-4);
        }

        .demo-modal.hidden {
            display: none;
        }

        .demo-modal-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
        }

        .demo-modal-content {
            position: relative;
            background: var(--bg-secondary);
            border: 1px solid var(--border-primary);
            border-radius: var(--radius-2xl);
            padding: var(--space-8);
            max-width: 700px;
            width: 100%;
            box-shadow: var(--shadow-2xl);
        }

        .demo-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
        }

        .demo-header h2 {
            font-size: var(--font-size-2xl);
            font-weight: var(--font-weight-bold);
            color: var(--text-primary);
        }

        .demo-close {
            background: none;
            border: none;
            font-size: var(--font-size-2xl);
            color: var(--text-muted);
            cursor: pointer;
            padding: var(--space-2);
            line-height: 1;
        }

        .demo-close:hover {
            color: var(--text-primary);
        }

        .demo-instructions {
            text-align: center;
            margin-bottom: var(--space-6);
        }

        .demo-instructions p {
            font-size: var(--font-size-lg);
            color: var(--text-secondary);
            margin-bottom: var(--space-4);
        }

        .demo-timer {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-bold);
            color: var(--text-accent);
        }

        #demoCanvas {
            width: 100%;
            height: 400px;
            background: #000;
            border-radius: var(--radius-lg);
            cursor: crosshair;
            margin-bottom: var(--space-6);
        }

        .demo-results {
            text-align: center;
        }

        .demo-results h3 {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-bold);
            margin-bottom: var(--space-6);
            color: var(--text-primary);
        }

        .demo-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-4);
            margin-bottom: var(--space-8);
        }

        .stat {
            background: var(--bg-glass);
            border: 1px solid var(--border-primary);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            text-align: center;
        }

        .stat-value {
            display: block;
            font-size: var(--font-size-2xl);
            font-weight: var(--font-weight-bold);
            color: var(--text-accent);
            font-family: var(--font-family-mono);
            margin-bottom: var(--space-1);
        }

        .stat-label {
            font-size: var(--font-size-sm);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .demo-cta p {
            font-size: var(--font-size-lg);
            color: var(--text-secondary);
            margin-bottom: var(--space-6);
        }

        .demo-actions {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            flex-wrap: wrap;
        }

        @media (max-width: 768px) {
            .demo-modal-content {
                padding: var(--space-6);
            }

            .demo-stats {
                grid-template-columns: 1fr;
            }

            .demo-actions {
                flex-direction: column;
                align-items: center;
            }

            .demo-actions .btn {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>

    <script src="landing.js"></script>
    
    <script>
        // Enhanced Loading States and Animations
        document.addEventListener('DOMContentLoaded', function() {
            // Hide page loader once everything is loaded
            const pageLoader = document.getElementById('pageLoader');
            
            window.addEventListener('load', function() {
                setTimeout(() => {
                    pageLoader.classList.add('hidden');
                    // Focus on main content after loading
                    document.getElementById('main-content')?.focus();
                }, 500);
            });
            
            // Scroll-triggered animations
            const observeElements = document.querySelectorAll('.animate-on-scroll');
            
            const animationObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });
            
            observeElements.forEach(el => {
                animationObserver.observe(el);
            });
            
            // Keyboard navigation support
            function trapFocus(element) {
                const focusableElements = element.querySelectorAll(
                    'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                );
                const firstFocusable = focusableElements[0];
                const lastFocusable = focusableElements[focusableElements.length - 1];
                
                element.addEventListener('keydown', function(e) {
                    if (e.key === 'Tab') {
                        if (e.shiftKey) {
                            if (document.activeElement === firstFocusable) {
                                lastFocusable.focus();
                                e.preventDefault();
                            }
                        } else {
                            if (document.activeElement === lastFocusable) {
                                firstFocusable.focus();
                                e.preventDefault();
                            }
                        }
                    }
                    
                    if (e.key === 'Escape') {
                        closeDemoModal();
                    }
                });
            }
            
            // Modal keyboard support
            const demoModal = document.getElementById('demoTestModal');
            if (demoModal) {
                trapFocus(demoModal);
            }
            
            // Enhanced button interactions with loading states
            function addButtonLoadingState(button, duration = 1000) {
                button.classList.add('btn-loading');
                button.setAttribute('disabled', 'true');
                
                setTimeout(() => {
                    button.classList.remove('btn-loading');
                    button.removeAttribute('disabled');
                }, duration);
            }
            
            // Add loading states to CTA buttons
            document.getElementById('getStartedBtn')?.addEventListener('click', function(e) {
                e.preventDefault();
                addButtonLoadingState(this, 800);
                setTimeout(() => {
                    window.location.href = '/register';
                }, 800);
            });
            
            document.getElementById('loginBtn')?.addEventListener('click', function(e) {
                e.preventDefault();
                addButtonLoadingState(this, 600);
                setTimeout(() => {
                    window.location.href = '/login';
                }, 600);
            });
            
            document.getElementById('startAnalysisBtn')?.addEventListener('click', function(e) {
                e.preventDefault();
                addButtonLoadingState(this, 800);
                setTimeout(() => {
                    window.location.href = '/dashboard';
                }, 800);
            });
            
            document.getElementById('startNowBtn')?.addEventListener('click', function(e) {
                e.preventDefault();
                addButtonLoadingState(this, 800);
                setTimeout(() => {
                    window.location.href = '/register';
                }, 800);
            });
        });
    </script>
    
    <script>
        // Demo Test Functionality
        class DemoTest {
            constructor() {
                this.canvas = document.getElementById('demoCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.targets = [];
                this.hits = 0;
                this.misses = 0;
                this.startTime = 0;
                this.reactionTimes = [];
                this.testDuration = 30000; // 30 seconds
                this.isRunning = false;
                this.targetCount = 0;
                
                this.setupCanvas();
                this.bindEvents();
            }
            
            setupCanvas() {
                // Set actual canvas size
                const rect = this.canvas.getBoundingClientRect();
                this.canvas.width = rect.width;
                this.canvas.height = rect.height;
            }
            
            bindEvents() {
                this.canvas.addEventListener('click', (e) => this.handleClick(e));
                window.addEventListener('resize', () => this.setupCanvas());
            }
            
            start() {
                this.hits = 0;
                this.misses = 0;
                this.reactionTimes = [];
                this.targetCount = 0;
                this.isRunning = true;
                this.startTime = Date.now();
                
                this.spawnTarget();
                this.gameLoop();
            }
            
            spawnTarget() {
                if (!this.isRunning) return;
                
                const target = {
                    x: Math.random() * (this.canvas.width - 60) + 30,
                    y: Math.random() * (this.canvas.height - 60) + 30,
                    radius: 25,
                    spawnTime: Date.now(),
                    id: this.targetCount++
                };
                
                this.targets = [target]; // Only one target at a time for demo
                
                // Auto remove target after 2 seconds if not clicked
                setTimeout(() => {
                    if (this.targets.some(t => t.id === target.id)) {
                        this.targets = this.targets.filter(t => t.id !== target.id);
                        this.misses++;
                        this.spawnTarget();
                    }
                }, 2000);
            }
            
            handleClick(e) {
                if (!this.isRunning) return;
                
                const rect = this.canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                let hit = false;
                this.targets = this.targets.filter(target => {
                    const distance = Math.sqrt((x - target.x) ** 2 + (y - target.y) ** 2);
                    if (distance <= target.radius) {
                        const reactionTime = Date.now() - target.spawnTime;
                        this.reactionTimes.push(reactionTime);
                        this.hits++;
                        hit = true;
                        
                        // Spawn next target
                        setTimeout(() => this.spawnTarget(), 200);
                        return false;
                    }
                    return true;
                });
                
                if (!hit) {
                    this.misses++;
                }
            }
            
            gameLoop() {
                if (!this.isRunning) return;
                
                // Clear canvas
                this.ctx.fillStyle = '#000';
                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                
                // Draw targets
                this.targets.forEach(target => {
                    this.ctx.beginPath();
                    this.ctx.arc(target.x, target.y, target.radius, 0, Math.PI * 2);
                    this.ctx.fillStyle = '#4285f4';
                    this.ctx.fill();
                    this.ctx.strokeStyle = '#ffffff';
                    this.ctx.lineWidth = 2;
                    this.ctx.stroke();
                });
                
                // Check if test should end
                if (Date.now() - this.startTime >= this.testDuration) {
                    this.endTest();
                    return;
                }
                
                requestAnimationFrame(() => this.gameLoop());
            }
            
            endTest() {
                this.isRunning = false;
                this.targets = [];
                
                // Calculate results
                const totalShots = this.hits + this.misses;
                const accuracy = totalShots > 0 ? Math.round((this.hits / totalShots) * 100) : 0;
                const avgReaction = this.reactionTimes.length > 0 
                    ? Math.round(this.reactionTimes.reduce((a, b) => a + b, 0) / this.reactionTimes.length)
                    : 0;
                
                // Display results
                document.getElementById('demoAccuracy').textContent = accuracy + '%';
                document.getElementById('demoReaction').textContent = avgReaction + 'ms';
                document.getElementById('demoHits').textContent = this.hits;
                
                // Show results
                document.getElementById('demoResults').classList.remove('hidden');
                
                // Clear canvas
                this.ctx.fillStyle = '#000';
                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                this.ctx.fillStyle = '#4285f4';
                this.ctx.font = '24px Inter';
                this.ctx.textAlign = 'center';
                this.ctx.fillText('Test Complete!', this.canvas.width / 2, this.canvas.height / 2);
            }
        }
        
        // Demo modal functionality
        let demoTest = null;
        
        document.getElementById('demoTestBtn').addEventListener('click', function() {
            const modal = document.getElementById('demoTestModal');
            modal.classList.remove('hidden');
            // Focus on the close button when modal opens
            setTimeout(() => {
                document.getElementById('demoCloseBtn').focus();
            }, 100);
            startDemoCountdown();
        });
        
        document.getElementById('demoCloseBtn').addEventListener('click', closeDemoModal);
        document.getElementById('demoModalOverlay').addEventListener('click', closeDemoModal);
        
        // Global keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // ESC to close modal
            if (e.key === 'Escape') {
                const modal = document.getElementById('demoTestModal');
                if (!modal.classList.contains('hidden')) {
                    closeDemoModal();
                }
            }
        });
        
        document.getElementById('tryAgainBtn').addEventListener('click', function() {
            document.getElementById('demoResults').classList.add('hidden');
            startDemoCountdown();
        });
        
        document.getElementById('signUpFromDemo').addEventListener('click', function() {
            // Store demo results
            localStorage.setItem('aimhelper_demo_completed', 'true');
            localStorage.setItem('aimhelper_demo_results', JSON.stringify({
                accuracy: document.getElementById('demoAccuracy').textContent,
                reaction: document.getElementById('demoReaction').textContent,
                hits: document.getElementById('demoHits').textContent
            }));
            
            // Redirect to registration
            window.location.href = '/register';
        });
        
        function closeDemoModal() {
            document.getElementById('demoTestModal').classList.add('hidden');
            // Return focus to the button that opened the modal
            document.getElementById('demoTestBtn').focus();
            if (demoTest && demoTest.isRunning) {
                demoTest.isRunning = false;
            }
        }
        
        function startDemoCountdown() {
            const countdownEl = document.getElementById('countdown');
            const timerEl = document.getElementById('demoTimer');
            let count = 3;
            
            timerEl.innerHTML = `Ready? <span id="countdown">${count}</span>`;
            
            const countdown = setInterval(() => {
                count--;
                if (count > 0) {
                    countdownEl.textContent = count;
                } else if (count === 0) {
                    timerEl.textContent = 'GO!';
                } else {
                    clearInterval(countdown);
                    timerEl.textContent = 'Click the targets!';
                    
                    // Start demo test
                    demoTest = new DemoTest();
                    demoTest.start();
                }
            }, 1000);
        }
    </script>
</body>
</html>